<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>SubtleMods：法术战修订</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="style/g3readme_cam.css" type="text/css" />
<link href="style/g3icon.ico" rel="icon" type="image/bmp" />
</head>
<body>
<h1>SubtleMods：法术战修订</h1>
<div class="section">
  <p><strong>版本 1.9</strong><br />
  <strong>语言：</strong>英语、法语、简体中文</p>
  <p><strong>作者：<a href="http://forums.gibberlings3.net/index.php?showuser=6306">The Subtle Doctor</a></strong></p>
  <p><strong><a href="https://github.com/UnearthedArcana/magic_battles_revised">主页</a></strong></p>
  <p><strong><a href="https://www.gibberlings3.net/forums/topic/33351-subtlemods-magic-battles-revised-streamlined-rules-for-mage-duels/">论坛</a></strong></p>
  <p><strong><a href="https://github.com/UnearthedArcana/magic_battles_revised/releases">下载</a></strong></p>
</div>
<h2>概述</h2>
<div class="section">
  <p>本模组致力于解决敌我双方施法者战斗过程中的规则和战术混乱问题。对安装了SCS的玩家来说，有些战斗过程过于冗长复杂。（论坛上的常见建议是，“等敌方法师的防护过期，然后上去抡”。）另一方面，对使用原版法术系统的玩家来说，法术防护又太容易规避。（“完全无视法术防护，就对法师用破解术，然后上去抡。”）再就是各种法术的限制让人抓狂——为什么五级的次级法术反转挡不了弱智术，而三级的次级法术偏转却可以？</p>
  <p>本模组尝试让法术防护更有用、更值得使用，保证施法者可以变得非常强大，甚至暂时处于无敌状态，同时也给敌方法师有效的手段来破除这种无敌状态，从而使法术战以相当快速、明确和令人满意的的方式进行。</p>
  <p>第一部分关于这些规则如何运作的<i>描述</i>可能有些冗长复杂，但本模组希望达到的目标是，你在游戏中不必再绞尽脑汁考虑这些——把法术防护都扒干净，然后攻击法师就行。所有可用的手段都能用，当然更强力的手段会更有效。</p>
  <p>本模组应安装在Spell Revisions、IWDification、SCS冰风谷法术组件这样的法术模组之后。</p>
</div>
<h2>1、法术战规则</h2>
<div class="section">
  <p> 法术战系统的第一个主要变化是，移除法术反转和法术陷阱的法术反弹和吸收效果。具体原因见第三部分；你需要知道的是，安装本模组后，只有三种法术防护。
  <ul>
    <li>第一种是<b>偏转类</b>，可以阻挡所有等级的法术，但只能阻挡一定数量，这个数量用“法术等级”来量度。以原版法术“法术偏转”举例来说，它能阻挡10个“等级”，意味着可以阻挡10个1级法术，也可以阻挡1个9级法术和1个其它等级的法术，再之后防护就会消失。通常，偏转类防护只能阻挡直接指向施法者的法术——不能阻挡区域型或云雾型法术。与原版游戏不同的是，偏转类防护能阻挡的法术不再限制等级，仅考虑它们能偏转多少个法术等级即可。安装本模组后的偏转类防护有<i>次级法术偏转</i>、<i>法术偏转</i>、<i>高级法术偏转</i>，还有一个<i>亚穹力场</i>。<br />
    <b>兼容性提示：</b>本模组与Spell Revisions完全兼容，包括其“NWN-Style Deflection”组件，允许法术偏转对大部分区域性法术生效（但依然不包括云雾型法术）。</li>
    <li>第二种是<b>免疫类</b>，能阻挡的法术数量不受限制，但等级受限制。这部分跟原版游戏没有区别：<i>次级法术无效结界</i>最高可阻挡3级法术，<i>法术无效结界</i>最高可阻挡4级法术。与偏转类防护不同，免疫类防护可阻挡区域型法术（如火球术）和云雾型法术（如臭云术）。本模组不同之处在于<i>法术陷阱</i>也被移入此类别中，可阻挡最高到9级的所有法术。</li>
    <li>第三种是护盾类，并不直接提供法术防护，但可以防止前两类法术防护被消除。此类防护主要是<i>法术护盾</i>。另外，安装本模组后，<i>法术陷阱</i>会成为第二个护盾类防护，还能额外提供法术免疫能力。</p></li>
  </ul>
  <p>要记住的关键点是，法术防护是分层的，这一点定义了破魔法术的设计机制（见下面的描述）。<i>法术偏转</i>和<i>次级法术偏转</i>的<b>效果</b>不会叠加——它们共同作用时只能吸收高等级的<i>法术偏转</i>提供的10个等级的法术——但面对像法术穿透和密言术这样的破魔法术时，它们同时存在时可以提供两层独立的防护。再加上<i>高级法术偏转</i>变成三层防护，再加法术无效结界变成四层，再加法术护盾变成五层，再加法术陷阱变成六层。实际上<i>偏转类防护</i>会自动施放相应的次级版本，所以施放<i>高级法术偏转</i>会同时给你<i>法术偏转</i>和<i>次级法术偏转</i>的效果，这意味着你拥有20个等级针对普通法术的防护，和3层针对破魔法术的防护。</p>
  <p>法师的防护层数决定了他免受攻击的能力。当攻击一个上好防护的敌人时（比如SCS中的法师一开战就通过意外术和序列器上好buff），问题不再是“能否破解防护”，而是“破解防护的快慢”。如果你对敌人施放密言术后他们依然有防护，通常你可以认为已经剥掉了他们的<b>部分</b>防护，如果你继续这样很快就能瓦解他们的防御。（除非他们有<i>法术陷阱</i>——<i>法术陷阱</i>的特别之处在于它能完全阻挡低等级破魔法术，除了<i>红宝石逆转射线</i>和<i>识破护盾</i>。）所以实战中你可以尝试搞清敌人有多少层防护，然后制定最优的攻击策略；或者干脆不停地使用破魔法术直到防护移除为止。安装本模组后，这些方式都是可行的。</p>
  <p>Magic attacks like Spell Thrust and Pierce Magic are modified to play into this system. Gone is the limitation that they can only affect defenses of a certain spell level. All magic attacks, from the lowly Spell Thrust up, can affect all spell defenses, with the exception of the apex defenses <i>Shield of the Archons</i> and <i>Spell Trap</i>. (You need a 6th-level </i>Pierce Magic</i> or better to affect <i>Shield of the Archons</i>, and a <i>Ruby Ray</i>, <i>Pierce Shield</i>, or <i>Spellstrike</i> to affect <i>Spell Trap</i>.) Instead, magic attacks are differentiated by how many <b>layers</b> of spell defenses they can remove at once.</p>
  <p>I have also given several magic attacks small secondary effects so that they can have some effect on even the most highly protected enemies.</p>
  <ul>
    <li><i>Spell Thrust</i> destroys one layer of protection. If the target has a <i>Spell Shield</i>, it will destroy the spell shield and will not remove any layers of deflection or invulnerability.</li>
    <li><i>Secret Word</i> destroys two layers of protection. Additionally, even if the target is still protected, it can cause one round of deafness (50% casting failure) if the target fails a save vs. spells. If the target has a <i>Spell Shield</i>, it will destroy the spell shield and will not remove any layers of deflectoin or invulnerability.</li>
    <li>The "<i>Pierce...</i>" spells are special in that they can take out a spell shield in addition to removing other protections, rather than instead of removing other protections. So <i>Pierce Magic</i> destroys two layers of protection <b>plus</b> a <i>Spell Shield</i>. Additionally, even if the target is still protected, it will reduce their magic resistance, if any, to zero for two rounds. </li>
    <li><i>Warding Whip</i> is a bit like casting <i>Secret Word</i> three times in a row: it will remove either one <i>Spell Shield</i> or two layers of protection (in that order), each round for three rounds. (It does not have the secondary deafness effect, though.)</li>
    <li><i>Ruby Ray of Reversal</i> is the first spell capable of defeating a <i>Spell Trap</i>, and it is also more effective at defeating normal spell defenses. It will remove either a <i>Spell Shield</i>, or a <i>Spell Trap</i>, or three layers of normal spell defenses (in that order). Additionally, even if the target is still protected, it can cause blindness for one round if the target fails a save vs. spells with a -2 penalty.</li>
    <li><i>Pierce Shield</i> destroys a <i>Spell Shield</i> <b>and</b> either one <i>Spell Trap</i> or three layers of normal spell defenses. </li>
    <li><i>Spellstrike</i> will remove all of a target's spell defenses in one fell swoop, and additionally will apply 100% casting failure to the target for one round, thus preventing the target from raising new defenses. This is basically god-level magic, and it can pretty much render anyone vulnerable.</p></li>
  </ul>
  <p>Magic attacks that remove multiple layers of spell defenses remove the highest-level defenses first, with the exception that a <i>Spell Shield</i> will always be the first defense to be removed.</p>
  <p></p>
</div>
<h2>2. Related Systems</h2>
<div class="section">
  <p><i>Breach</i> will be blocked by all deflection defenses and by invulnerability effects where it makes sense (just <i>Spell Trap</i>, essentially). So it will be blocked once by <i>Minor Spell Deflection</i> since that blocks 5 spell levels, but will not be blocked by <i>Globe of Invulnerability</i> since that only blocks up to 4th level spells.</p>
  <p>This mod incorporates my "breachier breach" concept in that it allows <i>Breach</i> to affect enemies such as liches and rakshasa which have innate invulnerability to certain spell levels.</p>
  <p>This mod changes <i>Remove Magic</i> to be a sort of miniature <i>Breach</i>, so that you have another way to achieve <i>Breach</i>-style effects. Whereas <i>Breach</i> destroys all combat protections and specific protections, <i>Remove Magic</i> will remove <b>one</b> combat protection and <b>one</b> specific protection of up to 6th level. Like <i>Breach</i>, Remove Magic will work against liches and rakshasa.</p>
  <p><i>Dispel Magic</i> works as usual, though there are several configuration options to modify its behavior; read more about them below. <b>COMPATIBILITY NOTE:</b> if this mod is installed after Polytope's Revised Dispel Magic mod (PolyDisp.tp2), then depending on your PolyDisp install options it may render spell defenses dispellable, which they ordinarily are not. Conversely, if you install PolyDisp after this mod, then PolyDisp will overwrite this new 'mini-Breach' version of <i>Remove Magic</i> and revert it to the spell's original 'similar-to-Dispel-Magic' behavior.</p>
  <p>A note about Dispel Magic and Remove Magic and their area-of-effect design: while Deflections generally do not block area-of-effect spells, with this mod they <b>will</b> block <i>Dispel Magic</i> and <i>Remove Magic</i>. Globes of Invulnerability and creatures' innate spell level invulnerability will not block <i>Dispel Magic</i> and <i>Remove Magic</i>, though that is configurable (see below).</p>
</div>
<h2>3. Aesthetic Tweaks</h2>
<div class="section">
  <p>This mod incorporates a version of DavidNYC's excellent work to systematize and distinguish the visual effects for various spells and defenses in the game. It removes the visual effects of ioun stones (a necessary evil, and let's admit it, they are comically large to represent small floating pebbles) and removes the visual effects for various spells (Spell Shield, Spell Turning) and then applies recolored variants to various defensive effects so that you can recognize which protections an enemy has. Roughly, the applied effects are these:</p>
  <ul>
    <li><i>Protection from Normal Weapons</i> shows a stationary green-tinted light above the caster's head.</li>
    <li><i>Protection from Magic Weapons</i> shows a stationary purple-tinted light above the caster's's head.</li>
    <li><i>Absolute Immunity</i> shows a stationary light above the caster's's head that continually changes colors.</li>
    <li><i>Protection from Missiles</i> shows a red rotating ioun stone animation.</li>
    <li><i>Non-Detection</i> shows a black rotating ioun stone animation.</li>
    <li><i>Minor Spell Deflection</i> shows three white swirling motes.</li>
    <li><i>Spell Deflection</i> shows three blue swirling motes.</li>
    <li><i>Greater Spell Deflection</i> shows three gold swirling motes.</li>
    <li><i>Shield of the Archons</i> shows three teal swirling motes.</li>
    <li><i>Spell Trap</i> shows three purple swirling motes.</li>
    <li><i>Spell Shield</i> shows a tall semi-transparent blue oval around the caster.</li>
    <li><i>Spell Immunity</i> (or <i>Dispelling Screen</i> if you have Spell Revisions installed) shows a glowing silver disc on the ground beneath the caster's feet.</li>
    <li><i>Globes of Invulnerability</i> are the same semi-transparent globes that you know from the unmodded game.</p></li>
  </ul>
  <p>You may come to recognize defensive spell effects by these visuals, or you may not care and rely on the combat log instead. Either way I think this is an overall visual improvement over the base game.</p>
  <p>The mod folder has a "visuals" subfolder with some pictures to show a protected mage being steadily disarmed by Secret Word/Secret Word/Breach. You can see more example pictures on pages 75-77 of the "SR Revised" thread in the Spell Revisions forum at Gibberlings3.net.</p>
</div>
<h2>5. Justifications for Certain Changes</h2>
<div class="section">
  <p>Why remove Spell Turning effects??</p>
  <p>First, they add needless complexity with the way they could only block low-level incoming spells. Second, they make the game easy because human players can recognize them and avoid reflected effects while the AI enemies cannot. Third, because of that, if you use SCS then SCS casters will never be so stupid as to have spells reflected at them; but this means spell turning prevents SCS enemies from casting at you at all, so it is sort fo more powerful than it should be. AT the end of the day, they just don't add much to these fights. Only using Deflections gives mages adequate protection while really streamlining the systems for dealing with that protection. Props to Demi/Ardanis/kreso of Spell Revisions fame for initially making this change and convincing me of its superiority</p>
  <p>(I think I had more to write here, but now I forget...)</p>
</div>
<h2>5. Configuration Options</h2>
<div class="section">
  <p>There are lots. They are controlled by the 'MBR_settings.ini' file. You can modify these settings before installing the mod. I will explain each one here.</p>
  <p>"<b>minor_deflection_levels_blocked</b>" These settings determine how many spell levels are blocked by the various Deflection spells. The default values are 5/10/20, and 30 for <i>Shield of the Archons</i>.</p>
  <p><b>spell_attack_delay</b> You can set this between 1 and 5, and it will mean that the effects of magic attacks will be slightly delayed. So instead of slamming an opponent with Breach immediately after your Ruby Ray destroys his spell protections, you will have to wait for a second or two. Theoretically this can add some tension and drama to magic attacks. But I haven't played around with it very much. The default value is 0.</p>
  <p><b>dispel_bypass_globes</b> As I said above, the default behavior is for <i>Dispel Magic</i> and <i>Remove Magic</i> to bypass <i>Globes of Invulnerability</i> and innate spell-level immunity. By setting this value to 0 you can reverse that, such that <i>DM</i> and <i>RM</i> are completely blocked by spell-level immunities.</p>
  <p><b>party_friendly_dispel</b> This makes <i>Dispel Magic</i> only affect enemies. Effectively, this means instead of <i>Dispel Magic</i> and the new version of <i>Remove Magic</i>, you will have the old version of </i>Remove Magic</i> and the new version of </i>Remove Magic</i>.</p>
  <p><b>mini_breach_dispel</b> This will change <i>Dispel Magic</i> to have the same 'mini-Breach' effect as the new <i>Remove Magic</i>, removing one combat protection and one specific protection from the target. It still affects both enemies and party member, however. (If you set both this value and the 'party_friendly_dispel' value to 1, then both <i>Dispel Magic</i> and <i>Remove Magic</i> will effectively be the same.)</p>
  <p><b>mini_breach_remove</b> This is set to 1 by default, and this is what gives <i>Remove Magic</i> the new 'mini-Breach' behavior. If you set this to 0, then <i>Remove Magic</i> will behave the old way, with a random chance to dispel incluenced by caster level.</p>
  <p><b>breach_combat_protections</b> et cetera. These variables set which kinds of protections <i>Breach</i> will remove. In the base game this only includes "combat protections" (think Armor or Stoneskin) and "specific protections" (think Resist Fire or Chaotic Commands). You can optionally add "combination protections" and "noncombat protections" as well, though this only affects a select few spells.</p>
</div>
<h2>Contact Information</h2>
<div class="section">
  <p>This mod was created by SubtleDoctor. You can visit <a href="http://forums.gibberlings3.net/index.php">The
    Gibberlings Three</a> for information on this and many other fine mods.</p>
</div>
<h2>Thanks and Acknowledgements</h2>
<div class="section">
  <p>Thanks to the still active and vibrant Infinity Engine modding community. </p>
  <p>Thanks to Demi, Ardanis, Mike1072, kreso, and others who worked in Spell Revisions, and to DavidNYC for the work on the excellent modified spell visual effects. </p>
  <p><strong>Tools Used in Creation</strong><br />
    <a href="http://www.weidu.org/"><acronym title="Weimer Dialogue Utility">WeiDU</acronym></a> by Wes Weimer, and then the bigg and then Wisp<br />
    <a href="http://www.idi.ntnu.no/~joh/ni/">Near Infinity</a> by Jon Olav Hauglid, and then Argent77 and Astrobryguy<br />
    <a href="http://iesdp.gibberlings3.net/"><acronym title="Infinity Engine Structures Description Project">IESDP</acronym></a> maintained by igi and then the G3 community</p>
</div>
<h2>Credits and Copyright Information</h2>
<div class="section">
  <p>Copyright 2021. If you want to use or adapt any part of this mod in another mod or similar endeavor, please try to contact me at forums.gibberlings3.net to discuss it. As a general rule, I have no problem with that as long as you credit the source of the work. If you cannot get in touch with me, assume that you have my permission to use any of this code for any project that is non-commercial, offered for free, and intended for the greater enjoyment of players of Infinity Engine games. If you do so, please credit me, and mention how awesome I am in a comment in the code, or something like that. You may NOT use this code for any profit-making or commercial venture, without express permission from me.</p>
</div>
</body>
</html>
